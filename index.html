<!DOCTYPE html>
<html>
  <head>
    <link href = "style.css" rel = "stylesheet">
    <title><em>TESTING!!!</em></title>
  </head>
  <body>
  <header class = "bolded big black coolbg center">
    <h2 style = "font-family: Arial"><strong><em>TESTING SITE BACK OFF</em></strong></h2>
  </header>
<div class = "centered">
  <div class = "buttons">
  <input class = "center" placeholder = "Enter name" maxlength = "15" name = "name" id = "name"><br>
  <button class = "center" id = "getAge"><strong>Get Age and Gender!!</strong></button>
  </div>
  <div class = "blackbox">
  <div class = "results">
  <p id = "result"></p><div class = "space"></div>
  </div>
  <div class = "genders">
  <p id = "gender"></p>
  </div>
  </div>
</div>
  <script>
    document.getElementById("getAge").addEventListener('click', ()=>{
      const name = document.getElementById("name").value;
      fetch(`https://api.agify.io?name=${name}`)
        .then(response => response.json())
        .then(data => {
          document.getElementById("result").textContent = `Your age for ${name}: ${data.age}`;
          console.log(data.age);
        })
      .catch(error => console.error("error",error));
      fetch(`https://api.genderize.io?name=${name}`)
        .then(response => response.json())
        .then(data=>{
            document.getElementById("gender").textContent = `There is a `+(Math.ceil((data.probability)*100))+`% chance that you are a ${data.gender}`;
            console.log(data.gender +"\n" + data.probability);
        })
        .catch(error => console.error('error: ',error));
    }
    );
    console.log("sisis");
    document.getElementById("name").addEventListener('input', ()=> {
        document.getElementById("name").classList.remove("typing");
        void document.getElementById("name").offsetWidth;
        document.getElementById("name").classList.add("typing");
    });
  </script>
  </body>
</html>
